<!DOCTYPE html>
<html>
<head>
  <title>Event exercise</title>
  <style type="text/css">
    .x {
      position: absolute;
      transform: rotate(45deg);
      top: 20px;
      left: 20px;
    }

    .horizontal {
      width: 45px;
      height: 5px;
      position: absolute;
      left: -20px;
      background: red;
    }

    .vertical {
      height: 45px;
      width: 5px;
      position: absolute;
      background: red;
      left: 0px;
      top: -20px;
    }

    .composer {
      background: #f5f5f5;
      padding: 1em;
      width: 30em;
    }

    .composer textarea {
      width: 100%;
      height: 4em;
    }

    .composer textarea.invalid {
      color: red;
    }
  </style>
  <script type="text/javascript">
    // document.addEventListener('mousemove', function(event) {
    //   var x = document.querySelector('.x');
    //   x.style.left = event.clientX.toString() + 'px';
    //   x.style.top = event.clientY.toString() + 'px';
    // });

    // document.addEventListener('keypress', function(event) {
    //   var key = event.key;
    //   console.log(key === 'b');
    //   var color;

    //   if (key === 'b') {
    //     color = 'blue';
    //   } else if (key === 'g') {
    //     color = 'green'
    //   } else if (key === 'r') {
    //     color = 'red'
    //   }

    //   if (color) {
    //     var x = document.querySelector('.x');
    //     for (var i = 0; i < x.childElementCount; i += 1) {
    //       x.children[i].style.background = color;
    //     }
    //   }
    // });

    document.addEventListener("DOMContentLoaded", function() {
      var composer = document.querySelector('.composer');
      var textarea = composer.querySelector('textarea');
      var counter = composer.querySelector('.counter');

      function updateCounter() {
        var length = textarea.value.length;
        var remaining = 10 - length;
        var message = String(remaining) + " charaters remaining";
        var invalid = remaining < 0;

        textarea.classList.toggle('invalid', invalid);

        counter.textContent = message;

        console.log(textarea.nodeType);
      }

      textarea.addEventListener('keyup', updateCounter);

      updateCounter();

    })
      

  </script>
</head>
<body>
  <div class="x">
    <div class="horizontal"></div>
    <div class="vertical"></div>
  </div>

  <div class="composer">
    <textarea placeholder="Enter your message"></textarea>
    <p class="counter"></p>
    <button type="submit">Post Message</button>
  </div>
</body>
</html>